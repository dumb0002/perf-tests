## Appwrappers module provides a module for creating / deleting appwrappers.

## Input params
{{$actionName := .actionName}}
{{$namespaces := .namespaces}}
{{$tuningSet := .tuningSet}}
{{$smallAppwrappersPerNamespace := .smallAppwrappersPerNamespace}}
{{$mediumAppwrappersPerNamespace := .mediumAppwrappersPerNamespace}}
{{$bigAppwrappersPerNamespace := .bigAppwrappersPerNamespace}}

steps:
- name: "{{$actionName}} k8s Appwrappers"
  phases:
  - namespaceRange:
      min: 1
      max: {{$namespaces}}
      Basename: "aw-big-exp"
    replicasPerNamespace: {{$bigAppwrappersPerNamespace}}
    tuningSet: {{$tuningSet}}
    objectBundle:
    - basename: big-appwrapper
      objectTemplatePath: stress-pod.yaml
  - namespaceRange:
      min: 1
      max: {{$namespaces}}
      #Basename: "aw-medium-exp"
    replicasPerNamespace: {{$mediumAppwrappersPerNamespace}}
    tuningSet: {{$tuningSet}}
    objectBundle:
    - basename: medium-appwrapper
      objectTemplatePath: stress-pod.yaml
  # - namespaceRange:
  #     min: 1
  #     max: {{$namespaces}}
  #     Basename: "aw-exp"
  #   replicasPerNamespace: {{$smallAppwrappersPerNamespace}}
  #   tuningSet: {{$tuningSet}}
  #   objectBundle:
  #   - basename: small-appwrapper
  #     objectTemplatePath: appwrapper-small.yaml
  - NamespaceList: 
    - stress-test
    replicasPerNamespace: {{$smallAppwrappersPerNamespace}}
    tuningSet: {{$tuningSet}}
    objectBundle:
    - basename: stress-pod
      objectTemplatePath: stress-pod.yaml